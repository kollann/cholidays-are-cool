"use strict";import Core_SPA_Router from"./core.spa-router.js?v=0.11";import Core_Translator from"./core.translator.js?v=0.11";import Core_View from"./core.spa-view.js?v=0.11";import Core_Utils from"./core.utils.js?v=0.11";import Core_Model from"./core.model.js?v=0.11";export default class Core_App{constructor(e,t,o,...r){window.Core=this,this.utils=new Core_Utils,this.system={webRoot:e,templatesPath:t,debugmode:!0,defaultLanguage:"de"},this.initPagemarkup(),this.router=new Core_SPA_Router(o),this.translator=r.length?new Core_Translator(r):new Core_Translator(this.system.defaultLanguage),this.getParams={},this.model=new Core_Model}t(e){return this.translator.t(e)}initPagemarkup(){this.initHeader(),this.initFooter()}initHeader(){let e=document.getElementById("app_header");Core_View.useTemplate(this.system.webRoot+this.system.templatesPath+"/header.tpl",e,"/header"),window.addEventListener("templateChanged",e=>{"/header"===e.detail.slug&&($("#language_de").on("click",e=>{e.preventDefault(),this.utils.setCookie("language","de","1"),location.reload()}),$("#language_en").on("click",e=>{e.preventDefault(),this.utils.setCookie("language","en","1"),location.reload()}))})}initFooter(){let e=document.getElementById("app_footer");Core_View.useTemplate(this.system.webRoot+this.system.templatesPath+"/footer.tpl",e,"/footer")}}